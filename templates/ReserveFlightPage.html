{% extends "base.html" %}

{% block content %}
<style>
  /* Flight card Begin*/
  .flight-card {
    background-color: #ffffff;
    border: 1px solid #000000;
    border-radius: 20px;
    padding: 20px;
    width: 700px;
    position: relative;
    margin-bottom: 20px;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 20px;
  }
  
  .flight-card h2 {
    margin-top: 0;
  }
  
  .pilot-info {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    align-items: center;
  }
  
  .pilot-info img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 10px;
  }
  
  .reservation-btn {
    position: absolute;
    bottom: 20px;
    right: 10px;
    border-radius: 7px;
  }
  
  .price {
    position: absolute;
    bottom: 10px;
    right: 100px;
    margin-right: 10px;
  }
  
  /* Add styles for the reservation form */
  .reservation-form {
    background-color: #f9f9f9;
    border: 1px solid #dddddd;
    border-radius: 10px;
    padding: 20px;
    width: 300px;
    margin-left: auto;
    margin-right: 0;
  }

  .form-label {
    font-weight: bold;
  }

  .form-control {
    margin-bottom: 10px;
  }
  /* Flight Card End*/
</style>

<h1 class="text-center"><span style="color: rgb(59, 129, 250);"><b>Reserve your Flight</b></span></h1>

<div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-photo"></div>

<div class="container text-center">
  <div class="row">
    <div class="col mb-4">
      <p><strong>Aéroport de départ :</strong>{% for airport in airports %} {% if airport[0] == flight[4] %} {{airport[1]}} {% endif %}{% endfor %}</p>
      <p><strong>Aéroport d'arrivée :</strong>{% for airport in airports %} {% if airport[0] == flight[5] %} {{airport[1]}} {% endif %}{% endfor %}</p>
      <p><strong>Date :</strong> {{flight[12]}}</p>
      <p><strong>Heure de décollage :</strong> x</p>
      <p><strong>Temps de vol :</strong> {{flight[11]}}</p>
      <p><strong>Place(s) restante(s) :</strong> {{flight[7]}}</p>
      <h3>{{flight[10]}}€/pax</h3>
    </div>
    <div class="col mb-4">
      <img src="{{flight[2]}}" alt="Photo de profil du pilote">
      <div>
        <p><strong>Pilote:</strong> {{flight[0]}} {{flight[1]}}</p>
        <p><strong>Note :</strong> {{flight[3]}}</p>
      </div>
    </div>
    <div class="col mb-4">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Socata_TB_20_Trinidad_01.jpg/280px-Socata_TB_20_Trinidad_01.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Avion</h5>
        <p class="card-text">TB20</p>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col mb-4">
      <!-- Reservation Form -->
      <div class="reservation-form" id="reservationForm">
        <form>
          <div class="mb-3">
            <label for="name" class="form-label">Prénom</label>
            <input type="text" class="form-control" id="name" placeholder="prénom">
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Nom</label>
            <input type="email" class="form-control" id="email" placeholder="Nom">
          </div>
          <div class="mb-3">
            <label for="passengers" class="form-label">Age</label>
            <input type="number" class="form-control" id="passengers" placeholder="Âge">
          </div>
        </form>
      </div>
    </div>
    <div class="col mb-4"></div>
      <div class="reservation-btn">
      <button class="btn btn-primary" onclick="addPassenger()">Add Passenger</button>
    </div>
  </div>
</div>

<script>
  var passengerCount = 1;

  function addPassenger() {
    var form = document.getElementById("reservationForm");
    var clone = form.cloneNode(true);
    clone.querySelectorAll("input").forEach(function(input) {
      input.value = "";
    });
    document.querySelector(".row").appendChild(clone);
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
{% endblock %}

